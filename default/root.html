<html lang="en">
	<head>
	  <meta charset="utf-8" />
	  <meta name="theme-color" content="{ meta.themecolor || '#26292D' }" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
		<meta if={false} http-equiv="Content-Security-Policy" content="default-src 'self'; font-src 'self' data: fonts.gstatic.com;" />
		<!-- for Google -->
		<meta name="description" content={ meta.description } />
		<meta name="author" content={ meta.author } />
		<meta name="copyright" content="{ meta.title }. All Rights Reserved." />
		<meta name="application-name" content={ meta.title } />
		<!-- for Facebook -->
		<meta property="og:title" content={ meta.title } />
		<meta property="og:image" content={ meta.image } />
		<meta property="og:url" content={ meta.url } />
		<meta property="og:description" content={ meta.description } />
		<meta property="og:type" content="website" />
		<meta property="og:site_name" content={ meta.title }>
		<!-- for Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={ meta.title } />
		<meta name="twitter:description" content={ meta.description } />
		<meta name="twitter:image" content={ meta.image } />
		<meta name="twitter:site" content={ meta.title } />
		<!-- favicon -->
		<link rel="shortcut icon" type="image/x-icon" href={ meta.favicon } />
		<link rel="icon" type="image/x-icon" href={ meta.favicon } />
		<!-- seo -->
		<meta name="robots" content="index,follow" />
		<!-- stylesheets -->
		<link if={STYLES} each={style in STYLES} href={style} rel="stylesheet" />
		<link if={pwa} rel="manifest" href="/manifest.json" />
		<link if={fonts} each={font in fonts} font-src={font} href={font} rel="stylesheet" />
		<link if={SERV_STYLE} rel="stylesheet" href="/style.css" />
		<!-- prefetch -->
		<link if={prefetch} each={file in prefetch} href={file} />
		
		<title>{ meta.title }</title>
		<!-- includes window.DATA here -->
	</head>

	<body class={classBody}>
    <tag-app state={opts.state}></tag-app>
		<!-- js libraries -->
		 <!--<script if={!SERV_STYLE} type="text/javascript" src="./packs/fucss/fucss.min.js" defer></script> -->
		<script if={!SERV_STYLE} type="text/javascript" src="https://cdn.rawgit.com/egislook/fucss/v0.7.5/fucss.min.js" defer></script>
		<script each={lib in LIBS} type="text/javascript" src={lib} defer></script>
		<!-- riothing actions -->
		<script if={ACTIONS} each={action in ACTIONS} type="text/javascript" src={action} defer></script>
		<!-- riothing stores -->
		<script if={STORES} each={store in STORES} type="text/javascript" src={store} defer></script>
		<!-- riot components -->
		<script if={VIEWS} each={view in VIEWS} type="riot/tag" src={view} defer></script>
		<!-- client initiation using base64 string -->
		<script if={SCRIPT} type="text/javascript" src={SCRIPT} defer></script>

		<script type="text/javascript">
		
			init(this.opts);
			
			function init({ DATA: { classBody, meta, fonts, prefetch, libs = [], styles = [] }, SERV_STYLE, ACTIONS, STORES, VIEWS, SCRIPT, pwa }){
				// Configurable
				this.classBody	= classBody;
				this.meta				= meta;
				this.fonts			= fonts;
				this.pwa				= pwa;
				this.prefetch		= prefetch || [
			  	//'/content.json',
			  ];
			  
			  // DEFAULTS
				this.LIBS				= [
					'https://cdnjs.cloudflare.com/ajax/libs/riot/3.7.2/riot+compiler.min.js',
					'https://cdnjs.cloudflare.com/ajax/libs/page.js/1.8.3/page.min.js',
					'https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js',
					'https://cdn.jsdelivr.net/npm/marked/marked.min.js',
					...libs
					// 'https://cdn.jsdelivr.net/npm/r-localize/dist/r-localize.js'
					// 'https://cdn.jsdelivr.net/riotgear/latest/rg.min.js',
					// 'https://cdnjs.cloudflare.com/ajax/libs/commonmark/0.29.0/commonmark.js'
					// 'https://unpkg.com/polymorph-js/dist/polymorph.min.js',
					//'https://cdn.jsdelivr.net/npm/riothing/riothing.js'
					//'https://cdn.jsdelivr.net/npm/fucss/fucss.min.js',
			    //'https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.2/lodash.min.js',
			  ];
			  this.STYLES = [
			  	'https://cdn.rawgit.com/noneedsystem/fuico/0.0.8/style.css',
			  	...styles
			  ];
			  
			  this.SERV_STYLE = SERV_STYLE;
			  this.ACTIONS		= ACTIONS;
			  this.STORES			= STORES;
			  this.VIEWS			= VIEWS;
			  this.SCRIPT			= SCRIPT;
			}

		</script>

	</body>

</html>
